# Local Development Setup for Wildlife Monitoring

## Quick Start for PDF Monitoring

1. **Install Python dependencies** (one-time setup):
   ```bash
   pip install PyPDF2 watchdog
   ```

2. **Start the monitoring system** (run this every time):
   ```bash
   python start_monitoring.py
   ```
   OR directly:
   ```bash
   python pathway_monitor.py
   ```

3. **Add PDF reports** to the `src/reports` folder - they will automatically appear in the Wildlife Monitoring panel!

## Important Notes:
- The Python monitoring script MUST be running for real-time updates
- PDF reports should contain structured data with fields like "Observer Name:", "Species:", etc.
- The monitoring panel will be empty until PDFs are added and the Python script is running

## Prerequisites

1. **Node.js** (for the React app)
2. **Python 3.8+** (for PDF monitoring)
3. **Git** (to clone the repository)

## Installation Steps

### 1. Clone and Setup React App
```bash
git clone <your-repo-url>
cd <project-name>
npm install
npm run dev
```

### 2. Setup Python Environment (Required for PDF Monitoring)

#### Option A: Using pip directly (Easiest)
```bash
# Install only required packages
pip install PyPDF2 watchdog
```

#### Option B: Using requirements file
```bash
pip install -r requirements-pathway.txt
```

#### Option C: Using virtual environment (Recommended)
```bash
# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On Linux/Mac:
source venv/bin/activate

# Install requirements
pip install PyPDF2 watchdog
```

### 3. Start the PDF Monitoring Service

In a separate terminal (with Python environment activated):
```bash
python start_monitoring.py
```
OR
```bash
python pathway_monitor.py
```

This will:
- Monitor the `src/reports/` folder for new PDF files
- Parse PDF content and extract wildlife report data
- Generate `public/monitoring_data.json` with parsed data
- Update every 5 seconds when new PDFs are added

### 4. Test the System

1. **Start both services:**
   - Terminal 1: `npm run dev` (React app on localhost:5173)
   - Terminal 2: `python pathway_monitor.py` (PDF monitor)

2. **Create a test report:**
   - Go to `/report` page in your browser
   - Fill out the wildlife report form
   - Submit the report (saves PDF to `src/reports/` folder)

3. **Verify monitoring:**
   - Check the homepage - the Wildlife Monitoring panel should show the data
   - Monitor the Python terminal for processing logs
   - Check `public/monitoring_data.json` for parsed data

## File Structure

```
project/
├── src/
│   ├── reports/           # PDF reports folder (monitored by Python)
│   └── components/
│       └── WildlifeMonitoringPanel.tsx
├── public/
│   └── monitoring_data.json  # Generated by Python script
├── pathway_monitor.py     # PDF monitoring service
├── requirements-pathway.txt
└── LOCAL_SETUP.md
```

## Troubleshooting

### Python Issues
```bash
# Check Python version
python --version

# Check installed packages
pip list

# Reinstall packages if needed
pip install --upgrade -r requirements-pathway.txt
```

### PDF Monitoring Not Working
1. Ensure Python script is running: `python pathway_monitor.py`
2. Check if `src/reports/` folder exists
3. Verify PDF files are being saved to `src/reports/`
4. Check `public/monitoring_data.json` is being generated
5. Check browser console for any fetch errors

### React App Issues
```bash
# Clear cache and reinstall
rm -rf node_modules package-lock.json
npm install
npm run dev
```

## Windows-Specific Notes

If you're on Windows and prefer using the PowerShell setup:
```powershell
# Run the Windows setup script
.\setup-windows.ps1
```

This will automatically:
- Check Python installation
- Install required packages
- Create necessary folders
- Set up monitoring service

## How It Works

1. **Report Creation:** User fills form → PDF saved to `src/reports/`
2. **PDF Monitoring:** Python script watches folder → parses PDF → extracts data
3. **Data Output:** Parsed data saved to `public/monitoring_data.json`
4. **Live Updates:** React app polls JSON file → displays data in monitoring panel
5. **Real-time:** Changes appear within 5 seconds of PDF creation